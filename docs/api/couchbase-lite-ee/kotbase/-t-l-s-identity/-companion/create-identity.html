<!doctype html>
<html class="no-js">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>createIdentity</title>
<link href="../../../../images/logo-icon.svg" rel="icon" type="image/svg">    <script>var pathToRoot = "../../../../";</script>
    <script>document.documentElement.classList.replace("no-js","js");</script>
    <script>const storage = localStorage.getItem("dokka-dark-mode")
    if (storage == null) {
        const osDarkSchemePreferred = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
        if (osDarkSchemePreferred === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    } else {
        const savedDarkMode = JSON.parse(storage)
        if(savedDarkMode === true) {
            document.getElementsByTagName("html")[0].classList.add("theme-dark")
        }
    }
    </script>
<script type="text/javascript" src="https://unpkg.com/kotlin-playground@1/dist/playground.min.js" async></script>
<script type="text/javascript" src="../../../../scripts/sourceset_dependencies.js" async></script>
<link href="../../../../styles/style.css" rel="Stylesheet">
<link href="../../../../styles/main.css" rel="Stylesheet">
<link href="../../../../styles/prism.css" rel="Stylesheet">
<link href="../../../../styles/logo-styles.css" rel="Stylesheet">
<link href="../../../../styles/font-jb-sans-auto.css" rel="Stylesheet">
<script type="text/javascript" src="../../../../scripts/clipboard.js" async></script>
<script type="text/javascript" src="../../../../scripts/navigation-loader.js" async></script>
<script type="text/javascript" src="../../../../scripts/platform-content-handler.js" async></script>
<script type="text/javascript" src="../../../../scripts/main.js" defer></script>
<script type="text/javascript" src="../../../../scripts/prism.js" async></script>
<script type="text/javascript" src="../../../../scripts/symbol-parameters-wrapper_deferred.js" defer></script>
<link href="../../../../styles/multimodule.css" rel="Stylesheet"></head>
<body>
    <div class="root">
<nav class="navigation" id="navigation-wrapper">
    <div class="navigation--inner">
        <div class="navigation-title">
            <button class="menu-toggle" id="menu-toggle" type="button">toggle menu</button>
            <div class="library-name">
<a class="library-name--link" href="../../../../index.html">
                            kotbase
                    </a>            </div>
            <div class="library-version">
<dokka-template-command data="{&quot;@class&quot;:&quot;org.jetbrains.dokka.base.templating.ReplaceVersionsCommand&quot;,&quot;location&quot;:&quot;kotbase/-t-l-s-identity/-companion/create-identity.html&quot;}"><div class="versions-dropdown">
  <div class="versions-dropdown-button">3.1</div>
  <div class="versions-dropdown-data"><a href="create-identity.html">3.1</a><a href="../../../../older/3.0/couchbase-lite-ee/kotbase/-t-l-s-identity/-companion/create-identity.html">3.0</a></div>
</div>
</dokka-template-command>            </div>
        </div>
        <div class="filter-section" id="filter-section">
                <button class="platform-tag platform-selector common-like" data-active="" data-filter=":couchbase-lite-ee:dokkaHtmlPartial/commonMain">common</button>
                <button class="platform-tag platform-selector jvm-like" data-active="" data-filter=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain">jvm</button>
                <button class="platform-tag platform-selector common-like" data-active="" data-filter=":couchbase-lite-ee:dokkaHtmlPartial/linuxMingwMain">linuxMingw</button>
        </div>
    </div>
    <div class="navigation-controls">
        <button class="navigation-controls--btn navigation-controls--theme" id="theme-toggle-button" type="button">switch theme</button>
        <div class="navigation-controls--btn navigation-controls--search" id="searchBar" role="button">search in API</div>
    </div>
</nav>
        <div id="container">
            <div class="sidebar" id="leftColumn">
                <div class="sidebar--inner" id="sideMenu"></div>
            </div>
            <div id="main">
<div class="main-content" data-page-type="member" id="content" pageids="couchbase-lite-ee::kotbase/TLSIdentity.Companion/createIdentity/#kotlin.Boolean#kotlin.collections.Map[kotlin.String,kotlin.String]#kotlinx.datetime.Instant?#java.security.KeyStore#kotlin.String#kotlin.CharArray?/PointingToDeclaration//-2026731870">
  <div class="breadcrumbs"><a href="../../../index.html">couchbase-lite-ee</a><span class="delimiter">/</span><a href="../../index.html">kotbase</a><span class="delimiter">/</span><a href="../index.html">TLSIdentity</a><span class="delimiter">/</span><a href="index.html">Companion</a><span class="delimiter">/</span><span class="current">createIdentity</span></div>
  <div class="cover ">
    <h1 class="cover"><span>create</span><wbr><span><span>Identity</span></span></h1>
  </div>
  <div class="platform-hinted  with-platform-tabs" data-platform-hinted="data-platform-hinted">
    <div class="platform-bookmarks-row" data-toggle-list="data-toggle-list"><button class="platform-bookmark" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/commonMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/commonMain" data-active="" data-toggle=":couchbase-lite-ee:dokkaHtmlPartial/commonMain">common</button><button class="platform-bookmark" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain" data-toggle=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain">jvm</button><button class="platform-bookmark" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/linuxMingwMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/linuxMingwMain" data-toggle=":couchbase-lite-ee:dokkaHtmlPartial/linuxMingwMain">linuxMingw</button></div>
<div class="content sourceset-dependent-content" data-togglable=":couchbase-lite-ee:dokkaHtmlPartial/commonMain"><div class="symbol monospace"><span class="token keyword">expect </span><span class="token keyword">fun </span><a href="create-identity.html"><span class="token function">createIdentity</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">isServer<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token punctuation">, </span></span><span class="parameter ">attributes<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/index.html">Map</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">expiration<span class="token operator">: </span><a href="https://kotlinlang.org/api/kotlinx-datetime/kotlinx-datetime/kotlinx.datetime/-instant/index.html">Instant</a><span class="token operator">?</span><span class="token punctuation">, </span></span><span class="parameter ">alias<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../index.html">TLSIdentity</a><span class="clearfix"><span class="floating-right">(<a href="https://github.com/jeffdgr8/kotbase/tree/main/couchbase-lite-ee/src/commonMain/ee/kotbase/TLSIdentity.kt#L61">source</a>)</span></span></div><p class="paragraph">Create self-signed certificate and private key, store them in the canonical keystore, and return an identity backed by the new entry. The identity will be stored in the secure storage using the specified alias and can be recovered using that alias, after this method returns.</p><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">the new identity</p></span><h4 class="">Parameters</h4><div class="table"><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/commonMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/commonMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>is</span><wbr><span><span>Server</span></span></u></div></span></div><div><div class="title"><p class="paragraph">true if this is a server certificate</p></div></div></div></div><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/commonMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/commonMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>attributes</span></span></u></div></span></div><div><div class="title"><p class="paragraph">certificate attributes</p></div></div></div></div><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/commonMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/commonMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>expiration</span></span></u></div></span></div><div><div class="title"><p class="paragraph">expiration date</p></div></div></div></div><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/commonMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/commonMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>alias</span></span></u></div></span></div><div><div class="title"><p class="paragraph">alias used to identify the key/certificate entry, in the keystore</p></div></div></div></div></div><h4 class="">Throws</h4><div class="table"><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/commonMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/commonMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="../../-couchbase-lite-exception/index.html"><span>Couchbase</span><wbr><span>Lite</span><wbr><span><span>Exception</span></span></a></div></span></div><div><div class="title"><p class="paragraph">on failure to get identity</p></div></div></div></div></div></div><div class="content sourceset-dependent-content" data-active="" data-togglable=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain"><div class="symbol monospace"><span class="token keyword">fun </span><a href="create-identity.html"><span class="token function">createIdentity</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">isServer<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token punctuation">, </span></span><span class="parameter ">attributes<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/index.html">Map</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">expiration<span class="token operator">: </span><a href="https://kotlinlang.org/api/kotlinx-datetime/kotlinx-datetime/kotlinx.datetime/-instant/index.html">Instant</a><span class="token operator">?</span><span class="token punctuation">, </span></span><span class="parameter ">keyStore<span class="token operator">: </span><a href="https://developer.android.com/reference/kotlin/java/security/KeyStore.html">KeyStore</a><span class="token punctuation">, </span></span><span class="parameter ">alias<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span></span><span class="parameter ">keyPassword<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-char-array/index.html">CharArray</a><span class="token operator">?</span></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../index.html">TLSIdentity</a><span class="clearfix"><span class="floating-right">(<a href="https://github.com/jeffdgr8/kotbase/tree/main/couchbase-lite-ee/src/jvmMain/ee/kotbase/TLSIdentity.jvm.kt#L113">source</a>)</span></span></div><p class="paragraph">Create a self-signed certificate TLSIdentity object. The generated private key will be stored in the KeyStore along with its self-signed certificate.</p><span class="kdoc-tag"><h4 class="">Return</h4><p class="paragraph">A TLSIdentity object.</p></span><h4 class="">Parameters</h4><div class="table"><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>is</span><wbr><span><span>Server</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The flag indicating that the certificate is for server or client.</p></div></div></div></div><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>attributes</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The certificate attributes.</p></div></div></div></div><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>expiration</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The certificate expiration date.</p></div></div></div></div><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>key</span><wbr><span><span>Store</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The KeyStore object for storing the generated private key and certificate.</p></div></div></div></div><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span><span>alias</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The key alias for storing the generated private key and certificate.</p></div></div></div></div><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><u><span>key</span><wbr><span><span>Password</span></span></u></div></span></div><div><div class="title"><p class="paragraph">The password to protect the private key entry in the KeyStore.</p></div></div></div></div></div><h4 class="">Throws</h4><div class="table"><div class="table-row" data-filterable-current=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain" data-filterable-set=":couchbase-lite-ee:dokkaHtmlPartial/jvmMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><div><a href="../../-couchbase-lite-exception/index.html"><span>Couchbase</span><wbr><span>Lite</span><wbr><span><span>Exception</span></span></a></div></span></div><div><div class="title"><p class="paragraph">on failure</p></div></div></div></div></div><hr><div class="symbol monospace"><span class="token keyword">actual </span><span class="token keyword">fun </span><a href="create-identity.html"><span class="token function">createIdentity</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">isServer<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token punctuation">, </span></span><span class="parameter ">attributes<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/index.html">Map</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">expiration<span class="token operator">: </span><a href="https://kotlinlang.org/api/kotlinx-datetime/kotlinx-datetime/kotlinx.datetime/-instant/index.html">Instant</a><span class="token operator">?</span><span class="token punctuation">, </span></span><span class="parameter ">alias<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../index.html">TLSIdentity</a><span class="clearfix"><span class="floating-right">(<a href="https://github.com/jeffdgr8/kotbase/tree/main/couchbase-lite-ee/src/jvmMain/ee/kotbase/TLSIdentity.jvm.kt#L63">source</a>)</span></span></div></div><div class="content sourceset-dependent-content" data-togglable=":couchbase-lite-ee:dokkaHtmlPartial/linuxMingwMain"><div class="symbol monospace"><span class="token keyword">actual </span><span class="token keyword">fun </span><a href="create-identity.html"><span class="token function">createIdentity</span></a><span class="token punctuation">(</span><span class="parameters "><span class="parameter ">isServer<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html">Boolean</a><span class="token punctuation">, </span></span><span class="parameter ">attributes<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-map/index.html">Map</a><span class="token operator">&lt;</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token punctuation">, </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a><span class="token operator">&gt;</span><span class="token punctuation">, </span></span><span class="parameter ">expiration<span class="token operator">: </span><a href="https://kotlinlang.org/api/kotlinx-datetime/kotlinx-datetime/kotlinx.datetime/-instant/index.html">Instant</a><span class="token operator">?</span><span class="token punctuation">, </span></span><span class="parameter ">alias<span class="token operator">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html">String</a></span></span><span class="token punctuation">)</span><span class="token operator">: </span><a href="../index.html">TLSIdentity</a><span class="clearfix"><span class="floating-right">(<a href="https://github.com/jeffdgr8/kotbase/tree/main/couchbase-lite-ee/src/linuxMingwMain/ee/kotbase/TLSIdentity.linuxMingw.kt#L34">source</a>)</span></span></div></div>  </div>
</div>
      <div class="footer">
        <span class="go-to-top-icon"><a href="#content" id="go-to-top-link"></a></span><span>© 2024 Copyright</span><span class="pull-right"><span>Generated by </span><a href="https://github.com/Kotlin/dokka"><span>dokka</span><span class="padded-icon"></span></a></span>
      </div>
            </div>
        </div>
    </div>
</body>
</html>

